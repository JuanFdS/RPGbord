[gd_scene load_steps=22 format=3 uid="uid://cgr4d6ywc7jla"]

[ext_resource type="Script" path="res://Scripts/Levels/Main.cs" id="1_xoiea"]
[ext_resource type="PackedScene" uid="uid://c138i0pw7g0nx" path="res://Scenes/Characters/Player/player.tscn" id="2_xg04o"]
[ext_resource type="MeshLibrary" uid="uid://di2k05c6125kv" path="res://Assets/Models/CheeseMineAssets/Tilemaps/dc_tilemap.meshlib" id="4_aty1q"]
[ext_resource type="Script" path="res://Scripts/Characters/Enemy/EnemiesContainer.cs" id="4_hq5gf"]
[ext_resource type="PackedScene" uid="uid://cxghxsgoyv2am" path="res://Scenes/Characters/Enemy/enemy.tscn" id="4_iwv7f"]
[ext_resource type="PackedScene" uid="uid://dw33mfi0uljdr" path="res://Scenes/General/ui.tscn" id="6_centw"]
[ext_resource type="Script" path="res://Scripts/Resources/StatResource.cs" id="7_1xo4g"]
[ext_resource type="PackedScene" uid="uid://chtctmc3qsmfn" path="res://Assets/Models/CheeseMineAssetsUpgrade/godot4dragdrop/CheeseMineAssets/Objects/sm_torch.tscn" id="7_b56rv"]
[ext_resource type="Script" path="res://Scripts/General/Camera.cs" id="7_duhdm"]
[ext_resource type="PackedScene" uid="uid://dwld1ngrv1cp7" path="res://Scenes/Reward/treasure_chest.tscn" id="10_n01y7"]
[ext_resource type="Texture2D" uid="uid://bidcolodturkb" path="res://Assets/Sprites/UI/Individual icons (32x32)/5.png" id="11_2i0cu"]
[ext_resource type="Script" path="res://Scripts/Reward/RewardResource.cs" id="12_3bs64"]

[sub_resource type="Resource" id="Resource_5b2pk"]
script = ExtResource("12_3bs64")
SpriteTexture = ExtResource("11_2i0cu")
Description = "+4 Damage"
TargetStat = 1
Amount = 4.0

[sub_resource type="NavigationMesh" id="NavigationMesh_x05cx"]
agent_max_climb = 0.5

[sub_resource type="Curve3D" id="Curve3D_64ti0"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -7.27009, 0, 1.21194, 0, 0, 0, 0, 0, 0, -0.099947, 0, -0.497864, 0, 0, 0, 0, 0, 0, 5.13977, 0, 0.991319, 0, 0, 0, 0, 0, 0, 5.52586, 0, 7.00321, 0, 0, 0, 0, 0, 0, -0.099947, 0, 7.996, 0, 0, 0, 0, 0, 0, -6.2773, 0, 6.50681, 0, 0, 0, 0, 0, 0, -7.27009, 0, 1.2671),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0)
}
point_count = 7

[sub_resource type="Resource" id="Resource_f53e4"]
script = ExtResource("7_1xo4g")
StatType = 0
StatValue = 40.0

[sub_resource type="Resource" id="Resource_xkbbt"]
script = ExtResource("7_1xo4g")
StatType = 1
StatValue = 4.0

[sub_resource type="Curve3D" id="Curve3D_dp38e"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -0.250462, -1.1468, 5.93184, 0, 0, 0, 0, 0, 0, 0.70517, -1.02819, -4.09064, 0, 0, 0, 0, 0, 0, -6.25846, -1.0282, -2.12602, 0, 0, 0, 0, 0, 0, -5.58218, -1.0282, 3.28424, 0, 0, 0, 0, 0, 0, -0.2505, -1.14681, 5.93185),
"tilts": PackedFloat32Array(0, 0, 0, 0, -1.55262)
}
point_count = 5

[sub_resource type="Resource" id="Resource_ueu4e"]
script = ExtResource("7_1xo4g")
StatType = 0
StatValue = 40.0

[sub_resource type="Curve3D" id="Curve3D_k6fdi"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 5.00858, -0.603656, 3.7283, 0, 0, 0, 0, 0, 0, -3.53317, -0.63263, 4.24502, 0, 0, 0, 0, 0, 0, -3.84611, -0.0353179, -1.32482, 0, 0, 0, 0, 0, 0, 6.30007, 0.132377, -2.07431, 0, 0, 0, 0, 0, 0, 8.77929, -0.956439, 0.848675, 0, 0, 0, 0, 0, 0, 5.0385, -0.603663, 3.70062),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0)
}
point_count = 6

[sub_resource type="Resource" id="Resource_vkfli"]
script = ExtResource("7_1xo4g")
StatType = 0
StatValue = 40.0

[node name="Main" type="Node3D"]
script = ExtResource("1_xoiea")

[node name="TreasureChest" parent="." instance=ExtResource("10_n01y7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.434585, 2.16865)
reward = SubResource("Resource_5b2pk")

[node name="Player" parent="." instance=ExtResource("2_xg04o")]
transform = Transform3D(0.75, 0, 0, 0, 0.75, 0, 0, 0, 0.75, -5.16055, 0.532165, 2.56058)
motion_mode = 0
floor_max_angle = 1.55334
floor_snap_length = 0.2

[node name="Environment" type="Node3D" parent="."]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="Environment"]
navigation_mesh = SubResource("NavigationMesh_x05cx")

[node name="FloorGridMap" type="GridMap" parent="Environment/NavigationRegion3D"]
mesh_library = ExtResource("4_aty1q")
cell_size = Vector3(1, 1, 1)
cell_center_x = false
cell_center_y = false
cell_center_z = false
data = {
"cells": PackedInt32Array(65526, 0, 1, 65526, 2, 1, 65528, 2, 1, 65528, 0, 1, 65530, 0, 1, 65530, 2, 1, 65532, 2, 1, 65532, 0, 1, 65534, 0, 1, 65534, 2, 1, 0, 2, 2, 0, 0, 2, 2, 2, 2, 2, 0, 2, 4, 65534, 1441794, 4, 0, 655361, 4, 2, 1048577, 4, 4, 1441794, 4, 6, 1441794, 4, 65532, 1441794, 4, 65530, 1441794, 6, 65528, 1441793, 4, 65528, 1441793, 2, 65528, 1441793, 2, 65526, 1441793, 2, 65524, 1441793, 4, 65524, 655361, 4, 65526, 655361, 6, 65526, 1, 6, 65524, 1, 4, 65522, 1441794, 4, 65520, 1441794, 2, 65518, 1441792, 4, 65518, 1441792, 4, 65516, 1441792, 2, 65516, 1441792, 6, 65518, 2, 8, 65518, 655362, 10, 65518, 655360, 10, 65516, 655360, 10, 65520, 655360, 10, 65522, 1048576, 12, 65522, 655360, 12, 65520, 1441792, 12, 65518, 0, 14, 65524, 1, 16, 65524, 1441793, 18, 65518, 1441792, 18, 65520, 1441792, 18, 65522, 1441792, 17, 65522, 1441792, 17, 65520, 1441792, 17, 65518, 1441792, 13, 65518, 1441792, 13, 65520, 1441792, 13, 65522, 1441792, 22, 65516, 1441792, 22, 65518, 1441792, 22, 65520, 1441792, 22, 65522, 1441792, 24, 65516, 1441792, 26, 65516, 1441792, 28, 65516, 1441792, 24, 65518, 0, 26, 65518, 1441792, 28, 65518, 0, 28, 65520, 655360, 26, 65520, 655360, 24, 65520, 0, 24, 65522, 1441792, 26, 65522, 655360, 28, 65522, 655360, 18, 65516, 1441792, 12, 65516, 0, 20, 65516, 2, 15, 65516, 2, 17, 65516, 0, 13, 65516, 1441792, 26, 65524, 1441794, 26, 65526, 655362, 24, 65526, 655362, 22, 65526, 655362, 8, 65526, 655362, 10, 65526, 655362, 12, 65526, 655362, 14, 65526, 2, 16, 65526, 655361, 18, 65526, 655361, 20, 65526, 655362, 30, 65516, 655362, 32, 65516, 1441794, 32, 65518, 1441794, 32, 65520, 1441794, 32, 65522, 1441794, 32, 65524, 1441794, 32, 65526, 1441794, 32, 65528, 1441794, 26, 65528, 1441794, 34, 65528, 2, 34, 65524, 2, 36, 65524, 2, 38, 65524, 1441793, 40, 65524, 1441792, 42, 65524, 1441792, 40, 65522, 0, 40, 65520, 0, 42, 65520, 1441792, 42, 65522, 1441792, 42, 65518, 1441792, 42, 65516, 1441794, 40, 65516, 655362, 38, 65516, 2, 36, 65516, 2, 34, 65516, 1441794, 36, 65528, 2, 38, 65528, 1441794, 38, 65530, 1441794, 38, 65532, 1441794, 38, 65534, 1441794, 40, 0, 655361, 38, 0, 1, 36, 0, 1441793, 40, 2, 1441792, 38, 4, 1441792, 36, 2, 655360, 36, 4, 0, 38, 2, 1441792, 40, 4, 1441792, 34, 2, 2, 32, 2, 2, 30, 2, 2, 28, 0, 1441794, 28, 2, 1441794, 28, 4, 1441794, 24, 65530, 655360, 26, 65530, 655360, 28, 65530, 655360, 28, 65534, 655360, 26, 65534, 655360, 24, 65534, 655360, 28, 65532, 0, 26, 65532, 0, 24, 65532, 1441792, 26, 2, 655362, 24, 2, 2, 22, 2, 2, 20, 2, 1441794, 20, 0, 1441793, 20, 4, 1441793, 18, 4, 655361, 18, 2, 1, 18, 0, 1, 16, 2, 2, 14, 65532, 1, 14, 65534, 1, 14, 0, 1, 14, 2, 1, 14, 4, 1, 14, 6, 1441793, 14, 8, 1441793, 12, 65532, 1441792, 10, 65532, 655360, 8, 65532, 655360, 8, 65534, 0, 10, 65534, 1441792, 12, 65534, 0, 12, 0, 0, 10, 0, 1441792, 8, 0, 0, 12, 2, 1441793, 10, 2, 655361, 8, 2, 1048577, 8, 4, 1, 10, 4, 1441793, 12, 4, 655361, 12, 6, 1, 10, 6, 1441792, 8, 6, 1441792, 8, 8, 1441792, 10, 8, 1441794, 12, 8, 2, 16, 65532, 0, 11, 65530, 0, 16, 8, 0, 16, 10, 0, 11, 10, 0, 21, 6, 1441792, 22, 8, 655360, 23, 6, 655360, 24, 8, 655360, 21, 65534, 655360, 19, 65532, 655360, 21, 65532, 655360, 21, 65530, 655360, 19, 65530, 1048576, 28, 6, 1048576, 30, 6, 0, 28, 8, 1441792, 30, 10, 0, 28, 10, 1, 30, 8, 1441793, 32, 10, 1441793, 32, 8, 655361, 32, 6, 1048577, 30, 12, 1048578, 30, 14, 1048578, 28, 16, 1048576, 30, 16, 1048576, 32, 16, 0, 30, 18, 1441792, 28, 18, 655360, 32, 18, 0, 32, 20, 0, 30, 20, 655360, 28, 20, 0, 30, 22, 1441794, 37, 24, 2, 35, 24, 2, 33, 24, 655362, 31, 24, 655362, 29, 24, 655361, 27, 24, 1, 25, 24, 1441793, 23, 24, 1, 4, 8, 1441794, 4, 10, 1048578, 4, 12, 2, 4, 14, 1441794, 4, 16, 1441794, 4, 18, 2, 2, 18, 1441792, 2, 20, 1441792, 4, 20, 0, 2, 22, 0, 2, 24, 0, 4, 24, 1441792, 6, 24, 1441792, 8, 24, 1441792, 10, 24, 0, 21, 24, 2, 19, 24, 2, 17, 24, 2, 12, 24, 2, 15, 24, 0, 13, 24, 1441792, 12, 22, 1441792, 10, 20, 655360, 12, 20, 0, 14, 20, 1441792, 14, 18, 1441792, 14, 16, 1441792, 12, 16, 655360, 12, 18, 655360, 10, 18, 0, 10, 16, 0, 21, 22, 0, 21, 20, 0, 19, 20, 0, 23, 20, 0, 23, 18, 1441793, 21, 18, 1, 19, 18, 655361, 21, 16, 655360, 23, 16, 655362, 19, 16, 1048577, 39, 24, 1, 41, 24, 1, 41, 22, 1, 41, 20, 1, 41, 18, 1, 41, 16, 1, 43, 16, 1, 45, 16, 1, 47, 16, 1, 47, 18, 1, 45, 18, 1441793, 43, 18, 1441793, 47, 20, 1441792, 45, 20, 1441792, 43, 20, 655360, 43, 22, 655360, 45, 22, 655360, 47, 22, 0, 47, 24, 0, 45, 24, 2, 43, 24, 2, 38, 6, 1441794, 38, 8, 1441794, 38, 10, 1441794, 38, 12, 1441794, 38, 14, 1441794, 40, 14, 2, 42, 2, 2, 44, 2, 1441794, 46, 2, 1441794, 48, 65530, 0, 48, 10, 655360, 58, 10, 1441792, 58, 65530, 1441792, 58, 65532, 1441792, 58, 65534, 655360, 58, 0, 0, 58, 2, 0, 58, 4, 1441792, 58, 6, 655360, 58, 8, 655360, 56, 10, 655361, 54, 10, 1, 52, 10, 1441793, 50, 10, 1441793, 48, 8, 1, 48, 6, 1441793, 48, 4, 1, 50, 4, 1, 50, 6, 1441793, 50, 2, 1441793, 48, 2, 2, 52, 2, 2, 52, 4, 1441794, 52, 6, 1441793, 52, 8, 655361, 50, 8, 655361, 54, 6, 655360, 56, 8, 1048576, 54, 8, 1048576, 56, 6, 1048576, 56, 4, 0, 54, 4, 0, 54, 2, 1441792, 56, 2, 1441792, 48, 65532, 1441792, 48, 65534, 1441792, 48, 0, 655360, 50, 0, 655360, 52, 0, 655360, 54, 0, 655360, 56, 0, 655360, 56, 65530, 655360, 54, 65530, 1048576, 52, 65530, 1048576, 50, 65530, 0, 56, 65532, 1441793, 54, 65532, 1441793, 52, 65532, 1, 50, 65532, 1441793, 52, 65534, 1, 56, 65534, 2, 50, 65534, 2, 54, 65534, 1441794, 65523, 65535, 655365, 65523, 2, 655365, 25, 8, 1441792, 16, 11, 1441793)
}

[node name="WallGridMap" type="GridMap" parent="Environment/NavigationRegion3D"]
mesh_library = ExtResource("4_aty1q")
cell_size = Vector3(1, 1, 1)
cell_center_x = false
cell_center_y = false
cell_center_z = false
data = {
"cells": PackedInt32Array(65526, 0, 15, 65528, 0, 15, 65530, 0, 15, 65532, 0, 15, 65534, 0, 15, 0, 0, 15, 0, 4, 15, 65534, 4, 15, 65532, 4, 15, 65530, 4, 15, 65528, 4, 15, 65526, 4, 15, 65524, 1, 1441810, 65524, 3, 1441807, 65524, 65535, 1441807, 65524, 65534, 1441808, 65522, 65534, 16, 65520, 0, 1441807, 65520, 2, 1441807, 65522, 3, 1048592, 65524, 5, 15, 2, 4, 1441808, 2, 65534, 655376, 2, 65528, 1048592, 6, 65528, 655376, 2, 65524, 16, 6, 65524, 1441808, 2, 65518, 1048592, 2, 65516, 16, 4, 65516, 1441808, 10, 65516, 16, 10, 65522, 1048592, 15, 65522, 1048592, 15, 65518, 16, 12, 65524, 1441808, 18, 65524, 1048592, 18, 65522, 655376, 20, 65518, 16, 30, 65518, 16, 28, 65522, 655376, 22, 65522, 1048592, 34, 65518, 16, 40, 65518, 1441808, 40, 65520, 16, 42, 65516, 1441808, 42, 65524, 655376, 38, 65522, 655376, 34, 65522, 1048592, 34, 65526, 1048592, 38, 65528, 1441808, 32, 65528, 1048592, 36, 65534, 655376, 40, 65534, 1048592, 40, 4, 655376, 36, 4, 1048592, 34, 0, 655376, 30, 0, 1048592, 30, 4, 16, 26, 4, 1441808, 26, 0, 655376, 24, 65534, 1048592, 24, 65530, 16, 28, 65530, 1441808, 24, 65528, 1441808, 24, 65524, 655376, 19, 65530, 16, 21, 65530, 1441808, 19, 65534, 1441808, 18, 0, 16, 22, 0, 1048592, 22, 2, 655375, 22, 4, 1048591, 22, 6, 15, 19, 6, 1441808, 23, 6, 1441808, 20, 8, 15, 22, 8, 1048592, 25, 6, 655375, 27, 8, 1048591, 25, 10, 15, 24, 10, 15, 16, 4, 16, 16, 0, 1048592, 16, 65534, 16, 16, 65532, 1441808, 13, 65530, 1048592, 9, 65530, 655376, 11, 65528, 655375, 14, 65530, 655375, 8, 65530, 655375, 8, 65532, 1048591, 8, 65534, 1048591, 8, 0, 1048591, 8, 2, 1048591, 8, 4, 1048591, 8, 6, 1048591, 8, 8, 655375, 13, 10, 16, 9, 10, 1441808, 11, 10, 655375, 16, 8, 1441807, 16, 10, 1441807, 16, 11, 655375, 14, 10, 1441808, 16, 12, 1441807)
}

[node name="UI" parent="." instance=ExtResource("6_centw")]

[node name="Enemies" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.0763, -2.92176)
script = ExtResource("4_hq5gf")

[node name="Path3D" type="Path3D" parent="Enemies"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 21.1306, 1.1362, 0)
curve = SubResource("Curve3D_64ti0")

[node name="Enemy" parent="Enemies/Path3D" node_paths=PackedStringArray("PathNode") instance=ExtResource("4_iwv7f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.99463, 0.668225, 2.53836)
stats = Array[Object]([SubResource("Resource_f53e4"), SubResource("Resource_xkbbt")])
PathNode = NodePath("..")

[node name="Path3D2" type="Path3D" parent="Enemies"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 32.8968, 2.37196, -15.1063)
curve = SubResource("Curve3D_dp38e")

[node name="Enemy" parent="Enemies/Path3D2" node_paths=PackedStringArray("PathNode") instance=ExtResource("4_iwv7f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.661101, 0)
stats = Array[Object]([SubResource("Resource_ueu4e"), SubResource("Resource_xkbbt")])
PathNode = NodePath("..")

[node name="Path3D3" type="Path3D" parent="Enemies"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 37.3189, 2.15873, 4.02601)
curve = SubResource("Curve3D_k6fdi")

[node name="Enemy" parent="Enemies/Path3D3" node_paths=PackedStringArray("PathNode") instance=ExtResource("4_iwv7f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.385757, 0)
stats = Array[Object]([SubResource("Resource_vkfli"), SubResource("Resource_xkbbt")])
PathNode = NodePath("..")

[node name="torch" parent="." instance=ExtResource("7_b56rv")]
process_mode = 3
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 34.9279, 5.78188, -1.85568)

[node name="torch2" parent="." instance=ExtResource("7_b56rv")]
process_mode = 3
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 42.3953, 5.71716, -1.86304)

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("target")]
transform = Transform3D(1, 0, 0, 0, 0.965926, 0.258819, 0, -0.258819, 0.965926, 38.5636, 4.75313, 4.74604)
fov = 70.0
script = ExtResource("7_duhdm")
target = NodePath("../Player")
positionFromTarget = Vector3(0, 2, 6)
